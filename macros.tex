%------------------------
% Math libraries
%------------------------
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{tikz}
\usepackage{tikz-cd}
\usetikzlibrary{shapes,fit}
\usepackage{bussproofs}
\EnableBpAbbreviations{}
\usepackage{mathtools}
\usepackage{scalerel}
\usepackage{stmaryrd}

%------------------------
% Math symbols and unicode support
%------------------------
\usepackage{amssymb}
\usepackage{bbm}
\usepackage[greek,english]{babel}
\DeclareUnicodeCharacter{22A5}{\ensuremath{\scaleobj{0.8}{\boldsymbol{\bot}}}}
\DeclareUnicodeCharacter{22A4}{\ensuremath{\scaleobj{0.8}{\boldsymbol{\top}}}}
\DeclareUnicodeCharacter{2192}{\ensuremath{\scaleobj{0.7}{\boldsymbol{\to}}}}
\DeclareUnicodeCharacter{2200}{\ensuremath{\scaleobj{0.9}{\boldsymbol{\forall}}}}
\DeclareUnicodeCharacter{21D2}{\ensuremath{\scaleobj{0.7}{\boldsymbol{\Rightarrow}}}}
\DeclareUnicodeCharacter{2115}{\ensuremath{\scaleobj{0.8}{\boldsymbol{\mathbb{N}}}}}
\DeclareUnicodeCharacter{2217}{\ensuremath{\scaleobj{0.8}{\boldsymbol{\ast}}}}
\DeclareUnicodeCharacter{2218}{\ensuremath{\scaleobj{0.9}{\boldsymbol{\circ}}}}
\DeclareUnicodeCharacter{2208}{\ensuremath{\scaleobj{0.8}{\boldsymbol{\in}}}}
\DeclareUnicodeCharacter{2209}{\ensuremath{\scaleobj{0.8}{\boldsymbol{\notin}}}}
\mathchardef\mhyphen="2D % define a math hyphen

%------------------------
% Theorem styles
%------------------------
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}
\newtheorem{proposition}{Proposition}
\newtheorem{lemma}{Lemma}
\newtheorem{corollary}{Corollary}
\theoremstyle{definition}
\newtheorem{definition}{Definition}
\newtheorem{proofs}{Proof}
\theoremstyle{remark}
\newtheorem{remark}{Remark}
\newtheorem{exampleth}{Example}

\begingroup\makeatletter\@for\theoremstyle:=definition,remark,plain\do{\expandafter\g@addto@macro\csname th@\theoremstyle\endcsname{\addtolength\thm@preskip\parskip}}\endgroup

%------------------------
% Macros
% ------------------------

% Corner quotes from:
% http://www.logicmatters.net/latex-for-logicians/symbols/corner-quotes-for-godel-numbers/
\newbox\gnBoxA\newdimen\gnCornerHgt\setbox\gnBoxA=\hbox{$\ulcorner$}
\global\gnCornerHgt=\ht\gnBoxA\newdimen\gnArgHgt\def\intl #1{%
\setbox\gnBoxA=\hbox{$#1$}%
\gnArgHgt=\ht\gnBoxA%
\ifnum \gnArgHgt<\gnCornerHgt \gnArgHgt=0pt%
\else \advance \gnArgHgt by -\gnCornerHgt\fi \raise\gnArgHgt\hbox{$\ulcorner$} \box\gnBoxA %
\raise\gnArgHgt\hbox{$\urcorner$}}

\newcommand{\impl}{\Rightarrow} % Implication
\DeclarePairedDelimiter\pair{\langle}{\rangle} % Pair notation
\DeclarePairedDelimiter\intr{\llbracket}{\rrbracket} % Interpretation brackets
\DeclarePairedDelimiter\intl{\llbracket}{\rrbracket} % Internal language brackets

% Lambda calculus
\newcommand{\skiabs}{\mathfrak{H}} % SKI abstraction
\newcommand{\lambdatrans}{\mathfrak{L}} % Lambda transformation
\newcommand{\tto}{\twoheadrightarrow} % Reduction
\DeclareMathOperator{\freevars}{FV} % Free variables
\newcommand{\redu}{\mathtt{RED}} % Reducibility

% Categories
\newcommand{\hom}{\mathrm{hom}}
\newcommand{\id}{\mathrm{id}}
\newcommand{\Id}{\mathrm{Id}}
\newcommand{\todot}{\xrightarrow{.}}
\newcommand{\toddot}{\xrightarrow{..}}
\newcommand{\Set}{\mathsf{Set}}
\newcommand{\Cat}{\mathsf{Cat}}
\newcommand{\Sets}{\mathsf{Sets}}
\newcommand{\sSets}{\mathsf{sSets}}
\newcommand{\Nat}{\operatorname{Nat}}
\newcommand{\Limit}{\varprojlim}
\newcommand{\Colimit}{\varinjlim}
\colorlet{myred}{red!75!black}
\newcommand{\red}[1]{\color{myred}{#1}}
\colorlet{myblue}{cyan!90!black}
\newcommand{\blue}[1]{\color{myblue}{#1}}

% Type Systems on the lambda cube
\newcommand{\ctypes}[1]{\color{blue!90!black}{#1}}
\newcommand{\cterms}[1]{\color{red!75!black}{\texttt{#1}}}
\newcommand{\lcred}{red!90!black}
\newcommand{\stlc}{\lambda_{\to}}
\newcommand{\systemf}{\lambda{2}}
\newcommand{\systemfo}{\lambda\omega}
\newcommand{\systemlp}{\lambda\Pi}
\newcommand{\systemfp}{\lambda{\Pi}2}
\newcommand{\systemlpo}{\lambda\Pi\underline{\omega}}
\newcommand{\systemo}{\lambda\underline{\omega}}
\newcommand{\systemcoc}{\lambda\Pi\omega}
\newcommand{\lcubett}[1]{\color{cyan!70}{\text{\scriptsize{#1}}}}

% Type theory
\newcommand{\wtype}{\mathop{\vphantom{\sum}\mathchoice{\vcenter{\hbox{\huge{\textsf{W}}}}}{\vcenter{\hbox{\Large\textsf{W}}}}{\textsf{W}}{\textsf{W}}}\displaylimits}
\newcommand{\wt}{\textsf{W}}
\newcommand{\proj}{\mathtt{pr}}