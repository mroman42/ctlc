<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Equality</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Option">--rewriting</a> <a id="25" class="Symbol">#-}</a>

<a id="30" class="Comment">-- Agda-MLTT library.</a>
<a id="52" class="Comment">-- Author: Mario Román.</a>

<a id="77" class="Comment">-- Equality.  Properties of the equality types in Martin-Löf type</a>
<a id="143" class="Comment">-- theory.  They are derived from the induction principle given by the</a>
<a id="214" class="Comment">-- J-eliminator.  In particular, we can prove theorems on the</a>
<a id="276" class="Comment">-- reflexivity case and they are extended to any other case by the</a>
<a id="343" class="Comment">-- induction principle.</a>


<a id="369" class="Keyword">open</a> <a id="374" class="Keyword">import</a> <a id="381" href="Base.html" class="Module">Base</a>

<a id="387" class="Keyword">module</a> <a id="394" href="Equality.html" class="Module">Equality</a> <a id="403" class="Keyword">where</a>

  <a id="412" class="Comment">-- Equality types have a groupoid structure.  That is, they can be</a>
  <a id="481" class="Comment">-- composed associatively (by transitivity), each equality has an</a>
  <a id="549" class="Comment">-- inverse (by symmetry) and there is an neutral element</a>
  <a id="608" class="Comment">-- (reflexivity).</a>

  <a id="629" class="Comment">-- Composition of equalities. This can be read as transitivity.</a>
  <a id="_·_" href="Equality.html#_%C2%B7_" class="Function Operator">_·_</a> <a id="699" class="Symbol">:</a> <a id="701" class="Symbol">{</a><a id="702" href="Equality.html#702" class="Bound">A</a> <a id="704" class="Symbol">:</a> <a id="706" class="PrimitiveType">Set</a><a id="709" class="Symbol">}</a> <a id="711" class="Symbol">{</a><a id="712" href="Equality.html#712" class="Bound">a</a> <a id="714" href="Equality.html#714" class="Bound">b</a> <a id="716" href="Equality.html#716" class="Bound">c</a> <a id="718" class="Symbol">:</a> <a id="720" href="Equality.html#702" class="Bound">A</a><a id="721" class="Symbol">}</a> <a id="723" class="Symbol">→</a> <a id="725" href="Equality.html#712" class="Bound">a</a> <a id="727" href="Base.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="729" href="Equality.html#714" class="Bound">b</a> <a id="731" class="Symbol">→</a> <a id="733" href="Equality.html#714" class="Bound">b</a> <a id="735" href="Base.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="737" href="Equality.html#716" class="Bound">c</a> <a id="739" class="Symbol">→</a> <a id="741" href="Equality.html#712" class="Bound">a</a> <a id="743" href="Base.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="745" href="Equality.html#716" class="Bound">c</a>
  <a id="749" href="Base.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a> <a id="754" href="Equality.html#_%C2%B7_" class="Function Operator">·</a> <a id="756" href="Equality.html#756" class="Bound">q</a> <a id="758" class="Symbol">=</a> <a id="760" href="Equality.html#756" class="Bound">q</a>

  <a id="765" class="Comment">-- Inverse of an equality. This can be read as symmetry.</a>
  <a id="inv" href="Equality.html#inv" class="Function">inv</a> <a id="828" class="Symbol">:</a> <a id="830" class="Symbol">{</a><a id="831" href="Equality.html#831" class="Bound">A</a> <a id="833" class="Symbol">:</a> <a id="835" class="PrimitiveType">Set</a><a id="838" class="Symbol">}</a> <a id="840" class="Symbol">{</a><a id="841" href="Equality.html#841" class="Bound">a</a> <a id="843" href="Equality.html#843" class="Bound">b</a> <a id="845" class="Symbol">:</a> <a id="847" href="Equality.html#831" class="Bound">A</a><a id="848" class="Symbol">}</a> <a id="850" class="Symbol">→</a> <a id="852" href="Equality.html#841" class="Bound">a</a> <a id="854" href="Base.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="856" href="Equality.html#843" class="Bound">b</a> <a id="858" class="Symbol">→</a> <a id="860" href="Equality.html#843" class="Bound">b</a> <a id="862" href="Base.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="864" href="Equality.html#841" class="Bound">a</a>
  <a id="868" href="Equality.html#inv" class="Function">inv</a> <a id="872" href="Base.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a> <a id="877" class="Symbol">=</a> <a id="879" href="Base.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a>

  <a id="887" class="Comment">-- Equalities are also preserved by functions.</a>
  <a id="ap" href="Equality.html#ap" class="Function">ap</a> <a id="939" class="Symbol">:</a> <a id="941" class="Symbol">{</a><a id="942" href="Equality.html#942" class="Bound">A</a> <a id="944" href="Equality.html#944" class="Bound">B</a> <a id="946" class="Symbol">:</a> <a id="948" class="PrimitiveType">Set</a><a id="951" class="Symbol">}</a> <a id="953" class="Symbol">(</a><a id="954" href="Equality.html#954" class="Bound">f</a> <a id="956" class="Symbol">:</a> <a id="958" href="Equality.html#942" class="Bound">A</a> <a id="960" class="Symbol">→</a> <a id="962" href="Equality.html#944" class="Bound">B</a><a id="963" class="Symbol">)</a> <a id="965" class="Symbol">{</a><a id="966" href="Equality.html#966" class="Bound">a</a> <a id="968" href="Equality.html#968" class="Bound">b</a> <a id="970" class="Symbol">:</a> <a id="972" href="Equality.html#942" class="Bound">A</a><a id="973" class="Symbol">}</a> <a id="975" class="Symbol">→</a> <a id="977" href="Equality.html#966" class="Bound">a</a> <a id="979" href="Base.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="981" href="Equality.html#968" class="Bound">b</a> <a id="983" class="Symbol">→</a> <a id="985" href="Equality.html#954" class="Bound">f</a> <a id="987" href="Equality.html#966" class="Bound">a</a> <a id="989" href="Base.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="991" href="Equality.html#954" class="Bound">f</a> <a id="993" href="Equality.html#968" class="Bound">b</a>
  <a id="997" href="Equality.html#ap" class="Function">ap</a> <a id="1000" href="Equality.html#1000" class="Bound">f</a> <a id="1002" href="Base.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a> <a id="1007" class="Symbol">=</a> <a id="1009" href="Base.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a>

  <a id="1017" class="Comment">-- If two terms are equal, a proof of a proposition instantiated</a>
  <a id="1084" class="Comment">-- over one of them is automatically a proof of a proposition</a>
  <a id="1148" class="Comment">-- instantiated over the other. Propositions can be transported</a>
  <a id="1214" class="Comment">-- along equalities.</a>
  <a id="transport" href="Equality.html#transport" class="Function">transport</a> <a id="1247" class="Symbol">:</a> <a id="1249" class="Symbol">{</a><a id="1250" href="Equality.html#1250" class="Bound">A</a> <a id="1252" class="Symbol">:</a> <a id="1254" class="PrimitiveType">Set</a><a id="1257" class="Symbol">}</a> <a id="1259" class="Symbol">(</a><a id="1260" href="Equality.html#1260" class="Bound">P</a> <a id="1262" class="Symbol">:</a> <a id="1264" href="Equality.html#1250" class="Bound">A</a> <a id="1266" class="Symbol">→</a> <a id="1268" class="PrimitiveType">Set</a><a id="1271" class="Symbol">)</a> <a id="1273" class="Symbol">{</a><a id="1274" href="Equality.html#1274" class="Bound">a</a> <a id="1276" href="Equality.html#1276" class="Bound">b</a> <a id="1278" class="Symbol">:</a> <a id="1280" href="Equality.html#1250" class="Bound">A</a><a id="1281" class="Symbol">}</a> <a id="1283" class="Symbol">→</a> <a id="1285" href="Equality.html#1274" class="Bound">a</a> <a id="1287" href="Base.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="1289" href="Equality.html#1276" class="Bound">b</a> <a id="1291" class="Symbol">→</a> <a id="1293" href="Equality.html#1260" class="Bound">P</a> <a id="1295" href="Equality.html#1274" class="Bound">a</a> <a id="1297" class="Symbol">→</a> <a id="1299" href="Equality.html#1260" class="Bound">P</a> <a id="1301" href="Equality.html#1276" class="Bound">b</a>
  <a id="1305" href="Equality.html#transport" class="Function">transport</a> <a id="1315" href="Equality.html#1315" class="Bound">P</a> <a id="1317" href="Base.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a> <a id="1322" class="Symbol">=</a> <a id="1324" class="Symbol">λ</a> <a id="1326" href="Equality.html#1326" class="Bound">x</a> <a id="1328" class="Symbol">→</a> <a id="1330" href="Equality.html#1326" class="Bound">x</a>

  <a id="1335" class="Comment">-- Common combinators for equational reasoning. They allow us to</a>
  <a id="1402" class="Comment">-- write proofs in an equational style. These versions have been</a>
  <a id="1469" class="Comment">-- adapted from the old version of the HoTT-agda library.</a>
  <a id="1529" class="Keyword">infixr</a> <a id="1536" class="Number">2</a> <a id="1538" href="Equality.html#_%E2%89%A1%E2%9F%A8_%E2%9F%A9_" class="Function Operator">_≡⟨_⟩_</a>
  <a id="_≡⟨_⟩_" href="Equality.html#_%E2%89%A1%E2%9F%A8_%E2%9F%A9_" class="Function Operator">_≡⟨_⟩_</a> <a id="1554" class="Symbol">:</a>  <a id="1557" class="Symbol">{</a><a id="1558" href="Equality.html#1558" class="Bound">A</a> <a id="1560" class="Symbol">:</a> <a id="1562" class="PrimitiveType">Set</a><a id="1565" class="Symbol">}</a> <a id="1567" class="Symbol">(</a><a id="1568" href="Equality.html#1568" class="Bound">x</a> <a id="1570" class="Symbol">:</a> <a id="1572" href="Equality.html#1558" class="Bound">A</a><a id="1573" class="Symbol">)</a> <a id="1575" class="Symbol">{</a><a id="1576" href="Equality.html#1576" class="Bound">y</a> <a id="1578" href="Equality.html#1578" class="Bound">z</a> <a id="1580" class="Symbol">:</a> <a id="1582" href="Equality.html#1558" class="Bound">A</a><a id="1583" class="Symbol">}</a> <a id="1585" class="Symbol">→</a> <a id="1587" href="Equality.html#1568" class="Bound">x</a> <a id="1589" href="Base.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="1591" href="Equality.html#1576" class="Bound">y</a> <a id="1593" class="Symbol">→</a> <a id="1595" href="Equality.html#1576" class="Bound">y</a> <a id="1597" href="Base.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="1599" href="Equality.html#1578" class="Bound">z</a> <a id="1601" class="Symbol">→</a> <a id="1603" href="Equality.html#1568" class="Bound">x</a> <a id="1605" href="Base.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="1607" href="Equality.html#1578" class="Bound">z</a>
  <a id="1611" class="Symbol">_</a> <a id="1613" href="Equality.html#_%E2%89%A1%E2%9F%A8_%E2%9F%A9_" class="Function Operator">≡⟨</a> <a id="1616" href="Equality.html#1616" class="Bound">p1</a> <a id="1619" href="Equality.html#_%E2%89%A1%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⟩</a> <a id="1621" href="Equality.html#1621" class="Bound">p2</a> <a id="1624" class="Symbol">=</a> <a id="1626" href="Equality.html#1616" class="Bound">p1</a> <a id="1629" href="Equality.html#_%C2%B7_" class="Function Operator">·</a> <a id="1631" href="Equality.html#1621" class="Bound">p2</a>

  <a id="1637" class="Keyword">infix</a>  <a id="1644" class="Number">3</a> <a id="1646" href="Equality.html#_qed" class="Function Operator">_qed</a>
  <a id="_qed" href="Equality.html#_qed" class="Function Operator">_qed</a> <a id="1658" class="Symbol">:</a> <a id="1660" class="Symbol">{</a><a id="1661" href="Equality.html#1661" class="Bound">A</a> <a id="1663" class="Symbol">:</a> <a id="1665" class="PrimitiveType">Set</a><a id="1668" class="Symbol">}</a> <a id="1670" class="Symbol">(</a><a id="1671" href="Equality.html#1671" class="Bound">x</a> <a id="1673" class="Symbol">:</a> <a id="1675" href="Equality.html#1661" class="Bound">A</a><a id="1676" class="Symbol">)</a> <a id="1678" class="Symbol">→</a> <a id="1680" href="Equality.html#1671" class="Bound">x</a> <a id="1682" href="Base.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="1684" href="Equality.html#1671" class="Bound">x</a>
  <a id="1688" href="Equality.html#_qed" class="Function Operator">_qed</a> <a id="1693" href="Equality.html#1693" class="Bound">x</a> <a id="1695" class="Symbol">=</a> <a id="1697" href="Base.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a>

  <a id="1705" class="Keyword">infix</a>  <a id="1712" class="Number">1</a> <a id="1714" href="Equality.html#begin_" class="Function Operator">begin_</a>
  <a id="begin_" href="Equality.html#begin_" class="Function Operator">begin_</a> <a id="1730" class="Symbol">:</a> <a id="1732" class="Symbol">{</a><a id="1733" href="Equality.html#1733" class="Bound">A</a> <a id="1735" class="Symbol">:</a> <a id="1737" class="PrimitiveType">Set</a><a id="1740" class="Symbol">}</a> <a id="1742" class="Symbol">{</a><a id="1743" href="Equality.html#1743" class="Bound">x</a> <a id="1745" href="Equality.html#1745" class="Bound">y</a> <a id="1747" class="Symbol">:</a> <a id="1749" href="Equality.html#1733" class="Bound">A</a><a id="1750" class="Symbol">}</a> <a id="1752" class="Symbol">→</a> <a id="1754" href="Equality.html#1743" class="Bound">x</a> <a id="1756" href="Base.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="1758" href="Equality.html#1745" class="Bound">y</a> <a id="1760" class="Symbol">→</a> <a id="1762" href="Equality.html#1743" class="Bound">x</a> <a id="1764" href="Base.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="1766" href="Equality.html#1745" class="Bound">y</a>
  <a id="1770" href="Equality.html#begin_" class="Function Operator">begin_</a> <a id="1777" href="Equality.html#1777" class="Bound">p</a> <a id="1779" class="Symbol">=</a> <a id="1781" href="Equality.html#1777" class="Bound">p</a>

  <a id="1786" class="Comment">-- A lemma on the equality of a dependent pair. A pair is equal if</a>
  <a id="1855" class="Comment">-- its two components are equal. If the second component depends on</a>
  <a id="1925" class="Comment">-- the first one, we must transport the component along the</a>
  <a id="1987" class="Comment">-- equality.</a>
  <a id="Σ-eq" href="Equality.html#%CE%A3-eq" class="Function">Σ-eq</a> <a id="2007" class="Symbol">:</a> <a id="2009" class="Symbol">{</a><a id="2010" href="Equality.html#2010" class="Bound">A</a> <a id="2012" class="Symbol">:</a> <a id="2014" class="PrimitiveType">Set</a><a id="2017" class="Symbol">}</a> <a id="2019" class="Symbol">{</a><a id="2020" href="Equality.html#2020" class="Bound">B</a> <a id="2022" class="Symbol">:</a> <a id="2024" href="Equality.html#2010" class="Bound">A</a> <a id="2026" class="Symbol">→</a> <a id="2028" class="PrimitiveType">Set</a><a id="2031" class="Symbol">}</a> <a id="2033" class="Symbol">→</a> <a id="2035" class="Symbol">(</a><a id="2036" href="Equality.html#2036" class="Bound">u</a> <a id="2038" href="Equality.html#2038" class="Bound">v</a> <a id="2040" class="Symbol">:</a> <a id="2042" href="Base.html#%CE%A3" class="Record">Σ</a> <a id="2044" href="Equality.html#2010" class="Bound">A</a> <a id="2046" href="Equality.html#2020" class="Bound">B</a><a id="2047" class="Symbol">)</a>
    <a id="2053" class="Symbol">→</a> <a id="2055" class="Symbol">(</a><a id="2056" href="Equality.html#2056" class="Bound">p</a> <a id="2058" class="Symbol">:</a> <a id="2060" href="Base.html#%CE%A3.fst" class="Field">fst</a> <a id="2064" href="Equality.html#2036" class="Bound">u</a> <a id="2066" href="Base.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="2068" href="Base.html#%CE%A3.fst" class="Field">fst</a> <a id="2072" href="Equality.html#2038" class="Bound">v</a><a id="2073" class="Symbol">)</a>
    <a id="2079" class="Symbol">→</a> <a id="2081" class="Symbol">(</a><a id="2082" href="Equality.html#transport" class="Function">transport</a> <a id="2092" href="Equality.html#2020" class="Bound">B</a> <a id="2094" href="Equality.html#2056" class="Bound">p</a> <a id="2096" class="Symbol">(</a><a id="2097" href="Base.html#%CE%A3.snd" class="Field">snd</a> <a id="2101" href="Equality.html#2036" class="Bound">u</a><a id="2102" class="Symbol">)</a> <a id="2104" href="Base.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="2106" href="Base.html#%CE%A3.snd" class="Field">snd</a> <a id="2110" href="Equality.html#2038" class="Bound">v</a><a id="2111" class="Symbol">)</a>
    <a id="2117" class="Symbol">→</a> <a id="2119" href="Equality.html#2036" class="Bound">u</a> <a id="2121" href="Base.html#_%E2%89%A1_" class="Datatype Operator">≡</a> <a id="2123" href="Equality.html#2038" class="Bound">v</a>
  <a id="2127" href="Equality.html#%CE%A3-eq" class="Function">Σ-eq</a> <a id="2132" class="Symbol">(</a><a id="2133" href="Equality.html#2133" class="Bound">a</a> <a id="2135" href="Base.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2137" href="Equality.html#2137" class="Bound">b</a><a id="2138" class="Symbol">)</a> <a id="2140" class="Symbol">(</a><a id="2141" class="DottedPattern Symbol">.</a><a id="2142" href="Equality.html#2133" class="DottedPattern Bound">a</a> <a id="2144" href="Base.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2146" class="DottedPattern Symbol">.</a><a id="2147" href="Equality.html#2137" class="DottedPattern Bound">b</a><a id="2148" class="Symbol">)</a> <a id="2150" href="Base.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a> <a id="2155" href="Base.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a> <a id="2160" class="Symbol">=</a> <a id="2162" href="Base.html#_%E2%89%A1_.refl" class="InductiveConstructor">refl</a>
</pre></body></html>